<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Preface
Recently, I’ve started my study about the basic of SVG, just because I thought I would use it quite often in my current job(but actually not),">
    

    <!--Author-->
    
        <meta name="author" content="Chia Feng Tsai">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Journey of SVG -- (1) &quot;Drawing&quot;"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="CHIA BLOG"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Journey of SVG -- (1) &quot;Drawing&quot; - CHIA BLOG</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">CHIA BLOG</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="http://chiafeng.rocks/">
                            
                                Portfolio
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/bboys1101">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('./img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Journey of SVG -- (1) "Drawing"</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        2016-08-09
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h3 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h3><blockquote>
<p>Recently, I’ve started my study about the basic of SVG, just because I thought I would use it quite often in my current job(but actually not), nevertheless it’s always amazing to see how svg can make the animation on web to reach the next level, also let users to see the potential of website, and making any fancy effect based on enhancing user experience.</p>
</blockquote>
<p>###What we are about to do: Drawing Animation<br>The drawing animation is what we used to see a lot in movie, motion graphic, and it’s exciting for me when seeing some developers put this on web. In my opinion, the best timing for doing this is when the page loading, the logo shows up in a slow pace by drawing effection, it’s a nice and elegant welcome, isn’t it?</p>
<p>###My Assignment Today<br>I am gonna make a logo which will be hide at first, and then showing up by drawing way since the page starts loading, before that, we should try to figure out the secret behind it.</p>
<p>###The Attributes We Shuold Know<br>There are 2 attributes that can help us to achieve it:</p>
<h5 id="01-stroke-dasharray"><a href="#01-stroke-dasharray" class="headerlink" title="01. stroke-dasharray"></a>01. stroke-dasharray</h5><p>This attribute can make the stroke become dash line, it has 2 values,<br>*the 1st. one defines the length of the line,<br>the 2nd. one defines the distance between each dash line.</p>
<p>*</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#demo line &#123;</div><div class="line">  stroke-dasharray: 50 50;</div><div class="line">&#125;</div><div class="line">&lt;svg id=&quot;demo&quot; height=&quot;100&quot; width=&quot;100%&quot; stroke-width=&quot;1&quot; stroke=&quot;orange&quot;&gt;</div><div class="line">  &lt;line x1=&quot;0&quot; y1=&quot;20&quot; x2=&quot;500&quot; y2=&quot;20&quot;&gt;&lt;/line&gt;</div><div class="line">&lt;/svg&gt;</div></pre></td></tr></table></figure>
<p><img src="Screen Shot 2016-08-01 at 3.21.46 pm.png" alt=""></p>
<p>The below one has larger attributes, you can see the apparently difference from the above one.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#demo line &#123;</div><div class="line">  stroke-dasharray: 100 100;</div><div class="line">&#125;</div><div class="line">&lt;svg id=&quot;demo&quot; height=&quot;100&quot; width=&quot;100%&quot; stroke-width=&quot;1&quot; stroke=&quot;orange&quot;&gt;</div><div class="line">  &lt;line x1=&quot;0&quot; y1=&quot;20&quot; x2=&quot;500&quot; y2=&quot;20&quot;&gt;&lt;/line&gt;</div><div class="line">&lt;/svg&gt;</div></pre></td></tr></table></figure></p>
<p><img src="Screen Shot 2016-08-01 at 3.21.05 pm.png" alt=""></p>
<h5 id="02-stroke-dashoffset"><a href="#02-stroke-dashoffset" class="headerlink" title="02. stroke-dashoffset"></a>02. stroke-dashoffset</h5><p>This attributes specifies the distance where the dash line should start at.<br>It means we can move dash line back and forth by this.<br>From the example below, when I set <figure class="highlight plain"><figcaption><span>-100```,the dash line move toward to right by 100px.</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line">#demo line &#123;</div><div class="line">  stroke-dasharray: 50 50;</div><div class="line">  stroke-dashoffset: -100;</div><div class="line">&#125;</div><div class="line">&lt;svg id=&quot;demo&quot; height=&quot;100&quot; width=&quot;100%&quot; stroke-width=&quot;1&quot; stroke=&quot;orange&quot;&gt;</div><div class="line">  &lt;line x1=&quot;0&quot; y1=&quot;20&quot; x2=&quot;500&quot; y2=&quot;20&quot;&gt;&lt;/line&gt;</div><div class="line">&lt;/svg&gt;</div></pre></td></tr></table></figure></p>
<p><img src="001.jpg" alt=""></p>
<p>Well, now you can image, if the value of stroke-dasharray equals to the length of path, it will look like a original path without any dash, and set stroke-dashoffset to the value equals to the length of path also, you will see the result like below.</p>
<p>When the dashoffset is just the same as the whole path, the whole path will be covered by the space which is between the dash line, so it looks empty.</p>
<p><img src="svg_v2.gif" alt=""></p>
<p>###Time to Animate<br>There are several ways can help us to build the animation, I choosed to use css transition to draw the line first, and then use css animation to present the fill part (Be aware, css animation isn’t supported in IE9.). The SMIL may not be recommended since it isn’t supported in IE and doesn’t perform well in Chrome &amp; Safari.</p>
<p>Basicly the drawing animation I built this time is based on the one built by <a href="https://jakearchibald.com/2013/animated-line-drawing-svg/" target="_blank" rel="external">Jake Archibald</a>, he wrote a really good tutorial article about drawing in SVG, helping me a lot. <br><br>Meanwhile,I downloaded a nice logo from <a href="http://www.houyhnhnm.jp/" target="_blank" rel="external">houyhnhnm</a> online magazine, which I visit almost everyday, I used this just for making this practice more interesting, of course you can choose any image you like.</p>
<p>After having your image in SVG, it might look like this(depending on you SVG image).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;path class=&quot;path_01 whiteFill &quot; fill=&quot;none&quot; stroke=&quot;black&quot; stroke-width=&quot;1&quot;</div><div class="line">d=&quot;M211.8,144.3c0.3,11.2-1.9,21.7-9.1,30.7c-1.9,2.4-4.4,4.3-7.7,3.6c-3.6-0.7-4.4-3.9-4.7-6.9 c-1&quot;/&gt;</div></pre></td></tr></table></figure></p>
<p>And here is JS<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">// get the number of path in document</div><div class="line">// calculate the length first so it can be saved as cache,</div><div class="line">// then it won&apos;t need to calculate every time in loop.</div><div class="line">var MaxLeng = document.getElementsByTagName(&apos;path&apos;).length;</div><div class="line"></div><div class="line">// use loop to set css attribute each path  </div><div class="line">for( var i = 1; i &lt;= MaxLeng; i++ ) &#123;</div><div class="line">    </div><div class="line">    var className = &quot;.path_0&quot;+i, // each class name of path</div><div class="line">        path = document.querySelector(className), //select the path </div><div class="line">        length = path.getTotalLength(); // get the length of it</div><div class="line"></div><div class="line">    // Clear any previous transition</div><div class="line">    path.style.transition = path.style.WebkitTransition =</div><div class="line">      &apos;none&apos;;</div><div class="line">    // Set up the starting positions</div><div class="line">    path.style.strokeDasharray = length + &apos; &apos; + length;</div><div class="line">    path.style.strokeDashoffset = length;</div><div class="line">    // Trigger a layout so styles are calculated &amp; the browser</div><div class="line">    // picks up the starting position before animating</div><div class="line">    path.getBoundingClientRect();</div><div class="line">    // Define our transition</div><div class="line">    path.style.transition = path.style.WebkitTransition =</div><div class="line">      &apos;all 4s ease-in-out&apos;;</div><div class="line">    // Go!</div><div class="line">    path.style.strokeDashoffset = &apos;0&apos;;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Like I’ve mentioned above, the code I write in this case is based on <a href="https://jakearchibald.com/2013/animated-line-drawing-svg/" target="_blank" rel="external">Jake Archibald</a>‘ve done in his tutorial, and the reason why using getBoundingClientRect method is still something I need to figure out. I’ve tried to do this without it, but it didn’t work. </p>
<p>####Reference: <br></p>
<ul>
<li><a href="https://jakearchibald.com/2013/animated-line-drawing-svg/" target="_blank" rel="external">Animated line drawing in SVG</a> <br></li>
<li><a href="http://www.chming.tw/blog/2014/09/21/svg-animate-paint/" target="_blank" rel="external">SVG Animation</a> <br></li>
<li><a href="http://codepen.io/MyXoToD/post/howto-self-drawing-svg-animation" target="_blank" rel="external">HowTo: “Self-Drawing” SVG animation</a></li>
</ul>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/bboys1101" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/chia-feng-tsai-0ba1a860?trk=hp-identity-name" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="mailto:bboys1101@gmail.com" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                </ul>
                <p class="copyright text-muted">Original Content from Chia</p>
                <!-- <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p> -->
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>